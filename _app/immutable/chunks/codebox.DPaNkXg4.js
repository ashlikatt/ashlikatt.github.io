import{s as A,h as C,n as k,r as D,e as L}from"./scheduler.DrUr7rw5.js";import{S as T,i as x,e as w,c as q,a as K,d as y,k as h,g as R,u as X}from"./index.BfAMNwJz.js";function j(l){let n,a,f;return{c(){n=w("textarea"),this.h()},l(i){n=q(i,"TEXTAREA",{spellcheck:!0,id:!0,class:!0}),K(n).forEach(y),this.h()},h(){h(n,"spellcheck","false"),h(n,"id",l[1]),h(n,"class","svelte-pkm2cr")},m(i,r){R(i,n,r),l[5](n),a||(f=[C(l[2].call(null,n)),X(n,"keydown",l[3])],a=!0)},p(i,[r]){r&2&&h(n,"id",i[1])},i:k,o:k,d(i){i&&y(n),l[5](null),a=!1,D(f)}}}function z(l,n,a){let{id:f}=n,{init:i}=n,{element:r=void 0}=n;const g={"{":"}","[":"]","<":">","(":")"};function S(t){t.value.trim().length===0&&(t.value=i)}function _(t){const e=t.currentTarget;if(!e)return;const s=e.selectionStart,u=e.selectionEnd;if(t.key=="Tab"){t.preventDefault(),e.value=e.value.substring(0,s)+"    "+e.value.substring(u),e.selectionStart=e.selectionEnd=s+4;return}if(g[t.key]!==void 0){const o=g[t.key];t.preventDefault(),e.selectionStart===e.selectionEnd?(e.value=e.value.substring(0,s)+t.key+o+e.value.substring(u),e.selectionStart=e.selectionEnd=s+1):(e.value=e.value.substring(0,s)+t.key+e.value.substring(s,u)+o+e.value.substring(u),e.selectionStart=s+1,e.selectionEnd=u+1);return}if(t.key=="Enter"&&e.selectionStart===e.selectionEnd){const o=e.value.substring(0,s),v=o.trimEnd(),d=v.charAt(v.length-1);t.preventDefault();const b=e.value.substring(u),E=o.split(`
`),m=E[E.length-1];if(d==="{"||d==="["||d==="("||d==="<"){const c=m.length-m.trimLeft().length+4;e.value=o+`
`+" ".repeat(c)+`
`+" ".repeat(c-4)+b,e.selectionStart=e.selectionEnd=s+1+c}else{const c=m.length-m.trimLeft().length;e.value=o+`
`+" ".repeat(c)+b,e.selectionStart=e.selectionEnd=s+1+c}return}}function p(t){L[t?"unshift":"push"](()=>{r=t,a(0,r)})}return l.$$set=t=>{"id"in t&&a(1,f=t.id),"init"in t&&a(4,i=t.init),"element"in t&&a(0,r=t.element)},[r,f,S,_,i,p]}class G extends T{constructor(n){super(),x(this,n,z,j,A,{id:1,init:4,element:0})}}export{G as C};
